# $1 - source .sfd file name
# $2 - destination .sfd file name

Open($1)

# unlink references, if glyph contain both refs and curves
SelectGlyphsBoth()
UnlinkReference()

# convert stroked font to outline font
SelectWorthOutputting()
ExpandStroke(100, 1, 1)
RemoveOverlap()
CorrectDirection()

RoundToInt()
AddExtrema(1)
Simplify(4+8, 5, 5)
RoundToInt()

CanonicalStart()
CanonicalContours()

# save sfd files
Save($2)
