%!PS-Adobe-2.0
%%Creator: Sergei S. Betke
%%Title: Test: string_BBox должен возвращать близкие результаты при повороте холста на любые углы
%%EndComments

(lib.ps) findlibfile { exch pop cvx exec } { (%stderr) (w) file  dup (Error: file ) writestring  dup  3 -1 roll  writestring  ( not found!\n) writestring  stop }  ifelse
(assert.ps) require_once

(boxes.ps) require_once

/Helvetica findfont
12 scalefont setfont

/teststring (Test string) def
teststring string_BBox size_of_BBox % sx1 sy1
45 rotate
teststring string_BBox size_of_BBox % sx1 sy1 sx2 sy2
      3 -1 roll exch  % sx1 sx2 sy1 sy2
    almost_equal
    3 1 roll  almost_equal
  and
  (string_BBox must return the same string size and for rotated canvas)
assert

%%EOF
