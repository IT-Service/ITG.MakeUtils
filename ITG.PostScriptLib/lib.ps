%!PS-Adobe-2.0
%%Creator: Sergei S. Betke
%%EndComments

/write_error_file_not_found % (libfilename) --> -
{
  (%stderr) (w) file
  dup (Error: file ) writestring
  dup  3 -1 roll  writestring
  ( not found!\n) writestring
} bind def

  userdict /modules known not
  {
    userdict /modules 100 dict put
  }
if

/require % (libfilename) --> execute lib file
{
    dup
    findlibfile
    {
      exch pop cvx exec
      userdict /modules get  exch cvlit  true  put
    }
    {
      write_error_file_not_found
      pop
      stop
    }
  ifelse
} bind def

/require_once % (libfilename) --> once execute lib file
{
    dup
    userdict /modules get  exch cvlit  known not
    {
        dup
        findlibfile
        {
          exch pop cvx exec
          userdict /modules get  exch cvlit  true  put
        }
        {
          write_error_file_not_found
          pop
          stop
        }
      ifelse
    }
    {
      pop
    }
  ifelse
} bind def

%%EOF
