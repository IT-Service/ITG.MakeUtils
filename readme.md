Генератор оттисков поверительных и калибровочных клейм
======================================================

Данный проект - библиотека [PostScript][] функций и примеры сценариев для генерациии
цифрового негатива для производства полимерных клише для поверительных и
калибровочных клейм.

Собственно [PostScript файл](ps/csm-marks.ps) должен быть сохранён в кодировке Windows-1251.

Для подготовки файла с оттисками клейм для фотовывода
[файл csm-marks.ps](ps/csm-marks.ps) следует скопировать
и внести изменения в область, отмеченную комментариями:

    %------------------------------------------------------------------------------
    % для подготовки оттисков править код ниже !!!
    %------------------------------------------------------------------------------
      [
          2017
          [ [ 3 ] quarters ]
          (СП)
          [ 1 256 range ]
          18.0 mm
          /verification_stamp_upath
        create_stamps
          2017
          [ [ 1 12  range ] months  [ 1 4 range ] quarters year ]
          (СП)
          [ 1 ]
          18.0 mm
          /calibration_stamp_upath
        create_stamps
      ]
      GetPageBBox
      2 mm
    draw_stamps
    %------------------------------------------------------------------------------
    % конец области для кода генерации оттисков
    %------------------------------------------------------------------------------

Выше приведён пример, генерирующий поверительные клейма
на 3ий квартал 2017 года, с шифром поверительного клейма "СП",
диаметром 18 мм, для индивидуальных знаков поверителя от 1 до 256.
А так же - квадратные калибровочные клейма
на все месяцы, кварталы и год 2017 года, с шифром клейма "СП",
размером 18 мм, для индивидуального знака поверителя с номером 1.

Во втором аргументе функции `create_stamps` должен быть указан
массив, определяющий периоды года, для которых будут сформированы
оттиски клейм.

Если требуется только годовое клеймо, укажите:

    [ year ]

Для конкретного квартала:

    [ [ 3 ] quarters ]
    
Для нескольких кварталов:

    [ [ 1 2 3 ] quarters ]
    
Либо то же самое, но - диапазоном:

    [ [ 1 3 range ] quarters ]
    
Аналогично для месяцев:

    [ [ 1 ] months ]
    [ [ 1 2 3  7 8 9 10 11 12 ] months ]
    [ [ 1 3 range 7 12 range ] months ]
    
А теперь - для месяцев, кварталов и года вместе:

    [ [ 1 12  range ] months  [ 1 4 range ] quarters year ]
    
4ый аргумент - массив номеров индивидуального знака.
Так же, либо перечисляем номера:

    [ 1 2 3 4 5 6 7 10 256 ]

либо то же самое, используя диапазоны:

    [ 1 7 range 10 256 ]
    
Раскладка на листе выполняется автоматически,
разбиение на страницы - так же.

При раскладке анализируются:
- форма оттиска (на текущий момент определяется только
круглая форма)
- размеры оттисков

Используется раскладка в строки.
Если возможна оптимизация при шахматной раскладке -
используется шахматная раскладка. Она будет использована
в следующих случаях:
- в двух соседних строках все оттиски одного размера
- и все - одинаковой формы, поддерживающей шахматную раскладку
(на сегодня - только круглая форма поддерживает).

Если хотя бы одно из условий не выполняется - используется
раскладка в строки.

[PostScript]: https://ru.wikipedia.org/wiki/PostScript
[PostScript Language reference manual]: http://wwwimages.adobe.com/content/dam/Adobe/en/devnet/postscript/pdfs/psrefman.pdf