%!PS-Adobe-2.0
%%Creator: Sergei S. Betke
%%Title: CSM makrs
%%Pages: 1
%%PageOrder: Ascend
%%BoundingBox: 0 0 585 842
%%EndComments

% перевод из миллиметров в пункты
/mm { 72.0 mul 25.4 div } def

% генерация рисунка поверительного клейма
/verification_stamp {
  6 dict begin
  /size exch def % размер клейма
  /verification_stamp_sign exch def % индивидуальный знак поверителя
  /verification_stamp_id exch def % шифр поверительного клейма
  /verification_stamp_period exch def % идентификация периода для месячных и квартальных клейм
  /verification_stamp_year exch def % год поверительного клейма
  /scale_k size 18 div def % рассчитаем коэффициент для последующего масштабирования
  gsave

  scale_k scale_k scale % масштабируем пространство для отрисовки из 18 единиц в заданный размер клейма

  % окружность
  newpath
  0 0  18 2 div  0 360 arc
  0 0  18 2 div 1 sub  0 360 arc
  eoclip
  
  fill

  grestore
  end
}
def

% генерация рисунка калибровочного клейма
/calibration_stamp {
}
def

%%EndProlog

%%BeginSetup
%%Feature: *Resolution 600dpi
%%EndSetup

%%Page: A 1
%%BeginSetup
%%BeginFeature: *PageSize A4
<</PageSize [595 842] /ImagingBBox null>> setpagedevice
%%EndFeature
%%EndSetup

% начальные служебные инструкции закончены

gsave

30 mm 230 mm translate % передвинем начало отсчета
newpath % начнем новый путь
0 0 moveto % установим начальную точку в начало отсчета

% начинаем рисовать буквы "ПУ-29"
% ширина буквы - 10 мм, высота буквы - 20 мм, расстояние между буквами - 5 мм.

% нарисуем букву "П"
0 mm 20 mm rlineto % проводим линию на 20 мм вверх
10 mm 0 mm rlineto % проводим линию на 10 мм вправо
0 mm -20 mm rlineto % проводим линию на 20 мм вниз

% буквы нарисовали, далее следуют инструкции отображения пути
2.0 setlinewidth  % установим толщину линии
stroke % проводим линию устаноленной толщины вдоль построенного пути

2017 (IV) (СП) (А) 20.0 mm verification_stamp

grestore
showpage

%%PageTrailer
%%Trailer
%%EOF
